(this.webpackJsonpsurvey=this.webpackJsonpsurvey||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var o=n(2),c=n.n(o),a=n(6),r=n.n(a),s=(n(23),n(3)),i=(n(24),n(25),n(16)),u=n(7),l=n(17),d=n(18),b=n.n(d).a.create({baseURL:"".concat("https://iqorfncmobchat.azurewebsites.net","/api")}),j=function(){var e=Object(l.a)(Object(u.a)().mark((function e(t,n){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,b.post("surveys",t,{headers:{Authorization:"Bearer ".concat(n)}});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),f=n(0);var v=function(){var e=Object(o.useState)(null),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(o.useState)({}),r=Object(s.a)(a,2),u=r[0],l=r[1],d=Object(o.useState)(!0),b=Object(s.a)(d,2),v=b[0],w=b[1],g=Object(o.useState)(null),p=Object(s.a)(g,2),h=p[0],O=p[1];return Object(o.useEffect)((function(){setTimeout((function(){w(!1)}),6e3),window.addEventListener("message",(function(e){try{var t=JSON.parse(e.data);console.log(t),null!==t&&void 0!==t&&t.token?l(t):c(t),t||w(!1)}catch(h){console.error(h),O(h)}finally{w(!1)}})),document.addEventListener("message",(function(e){try{var t=JSON.parse(e.data);console.log(t),null!==t&&void 0!==t&&t.token?l(t):c(t),t||w(!1)}catch(h){console.error(h),O(h)}finally{w(!1)}}))}),[]),Object(f.jsx)(f.Fragment,{children:v?Object(f.jsx)("div",{}):Object(f.jsx)("div",{className:"box",children:h?Object(f.jsx)("p",{children:"Update app version"}):n?Object(f.jsx)(i.Survey,{json:JSON.stringify(n),onStarted:function(e){console.log("survey showing",e)},onAfterRenderSurvey:function(e){console.log("onAfterRenderSurvey",e),window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(e.PageCount)},onAfterRenderPage:function(e){console.log("onAfterRenderPage",e),window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(e.PageCount)},onComplete:function(e){return j({formId:u.id,jsonData:JSON.stringify(e.data)},u.token)}}):Object(f.jsx)("div",{className:"row content",children:Object(f.jsxs)("div",{className:"center",children:[Object(f.jsxs)("span",{className:"info",children:["There was a problem loading the form probably due to network connection. ","\n",Object(f.jsx)("br",{}),'Click the "try again" button to reload the form.']}),Object(f.jsx)("button",{style:{textDecorationLine:"underline",cursor:"pointer"},onClick:function(){console.log("clicked"),window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(0)},children:"try again"})]})})})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),o(e),c(e),a(e),r(e)}))};r.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(v,{})}),document.getElementById("root")),w()}},[[46,1,2]]]);
//# sourceMappingURL=main.28d68a2f.chunk.js.map